# 🔧 MDRM Agent 설치 및 등록

!!! info "설치 방법 개요"
    Agent 설치 방법은 크게 **3가지**로 구분됩니다.

---

## 1️⃣ 자동설치

MDRM 서버를 통한 자동설치

!!! warning "요구사항"
    - ssh root 계정 정보 및 접속 가능해야 함
    - ansible을 통한 자동설치 진행

### 장점

- 가장 간편한 설치 방법
- MDRM 웹 UI에서 직접 설치 가능
- 자동으로 시스템 등록까지 완료

---

## 2️⃣ 수동설치 후 가져오기

ssh root 접속이 불가능할 때 사용

### 설치 절차

1. Agent 서버에 로그인하여 **root 계정**으로 설치
2. 기본 디렉토리: `/opt/gam_agent` 또는 `/opt/mdrm_agent`
3. MDRM에서 **"시스템 가져오기"**로 등록

!!! tip "사용 시나리오"
    - 보안 정책으로 ssh root 접속이 제한된 경우
    - 네트워크 분리로 MDRM에서 직접 접근이 불가능한 경우

---

## 3️⃣ MDRM 시스템 수동등록 및 Agent 설치

!!! danger "⚠️ 특수상황 전용"
    Storage 복제로 OS 이미지가 그대로 복사되는 경우에 사용합니다.

### 사용 시나리오

- 운영환경에 Agent 설치 필요
- Storage 복제로 OS 이미지가 그대로 넘어오는 경우
- 백업센터의 MDRM과 통신 불가능
- 시스템 가져오기로 등록 불가

### 설치 절차

1. 백업센터의 MDRM에서 가상의 시스템 등록하여 **NodeID 부여**
2. 운영센터에 Agent 수동설치
3. 환경설정 파일에 NodeID 매핑 :warning: **가장 중요**
4. 운영센터에서는 Agent 종료처리 로직 추가 필요

---

## Agentless 설정

Agent 없이 대상 시스템을 관리하는 방법

- 계정 등록 및 테스트 필요

!!! warning "제약사항"
    - 대부분 ssh나 winRM으로 동작
    - Agent에 비해 제약이 많음
    - 계정 변경 시 일일이 다시 변경 작업 필요

---

## 설치 방법 비교

| 방법 | 난이도 | 요구사항 | 사용 상황 |
|:---|:---:|:---|:---|
| 자동설치 | ⭐ | ssh root 접속 | 일반적인 경우 |
| 수동설치 후 가져오기 | ⭐⭐ | 서버 직접 접근 | ssh 제한 환경 |
| 시스템 수동등록 | ⭐⭐⭐ | NodeID 매핑 | Storage 복제 환경 |
| Agentless | ⭐⭐ | ssh/winRM | Agent 설치 불가 환경 |
