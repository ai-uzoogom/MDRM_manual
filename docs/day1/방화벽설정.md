# 🛡️ 방화벽 설정

MDRM 서버와 관리 대상 서버(Agent) 간의 원활한 통신을 위해 방화벽 설정이 필요합니다.

---

## **주요 통신 포트 안내**

MDRM 솔루션 운영을 위한 기본 포트 구성은 다음과 같습니다. 해당 포트들은 고객사 보안 정책에 따라 설치 시 변경이 가능합니다.

| 통신 방향 | 사용 포트 | 프로토콜 | 용도 |
| :--- | :--- | :---: | :--- |
| <span style="white-space: nowrap;">**User** → **MDRM**</span> | `443` | TCP (HTTPS) | MDRM 웹 관리 콘솔 접속 |
| <span style="white-space: nowrap;">**MDRM** → **Agent**</span> | `20080` | TCP | MDRM 서버에서 Agent로의 작업 명령 전달 |
| <span style="white-space: nowrap;">**Agent** → **MDRM**</span> | `443` | TCP | Agent에서 MDRM 서버로의 상태 보고 및 데이터 전송 |

---

## **방화벽 설정 예시 (Rocky Linux/RHEL 기준)**

서버 유형에 따라 필요한 포트를 오픈해 주십시오.

### **MDRM 서버**
```bash
# HTTPS (웹 접속 및 Agent 통신 수신)
firewall-cmd --permanent --add-port=443/tcp
firewall-cmd --reload
```

### **관리 대상 서버 (Agent)**
```bash
# MDRM 서버로부터의 명령 수신
firewall-cmd --permanent --add-port=20080/tcp
firewall-cmd --reload
```

!!! info "포트 변경 안내"
    상기 포트들은 기본값이며, 설치 스크립트 실행 시 인자값을 통해 다른 포트로 변경하여 운영할 수 있습니다.

---

<a href="../Docker_설치/" class="next-step-card">
    <span class="next-content">
        <span class="next-step-label">Next Step</span>
        <span class="next-step-title">🐳 Docker 설치</span>
    </span>
    <span class="next-step-icon">→</span>
</a>
