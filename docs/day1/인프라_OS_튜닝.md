# π› οΈ OS νλ‹

!!! info "ν•™μµ μ•λ‚΄"
    MDRMμ μ•μ •μ μΈ μ΄μμ„ μ„ν•΄ ν•„μ”ν• μ»¤λ„ νλΌλ―Έν„° μµμ ν™”μ™€ μ‚¬μ©μ λ¦¬μ†μ¤ μ ν• μ„¤μ • λ°©λ²•μ„ ν•™μµν•©λ‹λ‹¤.

MDRMμ μ•μ •μ μΈ μ΄μμ„ μ„ν•΄μ„λ” λ€λ‰μ λ°μ΄ν„° μ²λ¦¬μ™€ μ»¨ν…μ΄λ„ ν™κ²½μ„ λ’·λ°›μΉ¨ν•  μ μλ” OS μ°¨μ›μ νλ‹μ΄ ν•„μμ μ…λ‹λ‹¤. μ»¤λ„ νλΌλ―Έν„°(System-wide)μ™€ μ‚¬μ©μ λ¦¬μ†μ¤ μ ν•(Per-user) μ„¤μ •μ„ μ§„ν–‰ν•©λ‹λ‹¤.

---

## **1. μ—”μ§„ μµμ ν™” μ„¤μ •**

MDRMμ μ•μ •μ μΈ μ΄μμ„ μ„ν•΄μ„λ” λ€λ‰μ λ°μ΄ν„° μ²λ¦¬μ™€ μ»¨ν…μ΄λ„ ν™κ²½μ„ λ’·λ°›μΉ¨ν•  μ μλ” OS μ°¨μ›μ νλ‹μ΄ ν•„μμ μ…λ‹λ‹¤.

### **1.1 μ»¤λ„ νλΌλ―Έν„° μµμ ν™” (`sysctl.conf`)**

```bash
# μ»¤λ„ μ„¤μ • νμΌ νΈμ§‘
vi /etc/sysctl.conf
```

**μμ • λ‚΄μ© (νμΌ ν•λ‹¨ μ¶”κ°€):**
```bash
vm.max_map_count = 262144
fs.file-max = 65536
```

### **1.2 μ‚¬μ©μ λ¦¬μ†μ¤ μ ν• μ„¤μ • (`limits.conf`)**

```bash
# λ¦¬μ†μ¤ μ ν• μ„¤μ • νμΌ νΈμ§‘
vi /etc/security/limits.conf
```

**μμ • λ‚΄μ© (νμΌ ν•λ‹¨ μ¶”κ°€):**
```bash
# νμΌ μ¤ν”(nofile) λ° ν”„λ΅μ„Έμ¤(nproc) μ ν• ν™•μ¥
* soft nofile 65536
* hard nofile 65536
* soft nproc 65536
* hard nproc 65536
```

---

## **2. μ£Όμ” μ„¤μ • ν•­λ© μ”μ•½**

| ν•­λ© | μ„¤μ •κ°’ | μ„¤λ… |
| :--- | :--- | :--- |
| <span style="white-space: nowrap;">**vm.max_map_count**</span> | `262144` | ν”„λ΅μ„Έμ¤ κ°€μƒ λ©”λ¨λ¦¬ λ§µ μµλ€ κ°μ (Elasticsearch ν•„μ) |
| <span style="white-space: nowrap;">**fs.file-max**</span> | `65536` | μ‹μ¤ν… μ „μ²΄μ—μ„ λ™μ‹μ— μ—΄ μ μλ” νμΌ ν•Έλ“¤ ν†µν•© ν•λ„ |
| <span style="white-space: nowrap;">**nofile (ulimit)**</span> | `65536` | κ°λ³„ μ‚¬μ©μκ°€ λ™μ‹μ— μ—΄ μ μλ” νμΌ κ°μ μ ν• |
| <span style="white-space: nowrap;">**nproc (ulimit)**</span> | `65536` | κ°λ³„ μ‚¬μ©μκ°€ μƒμ„±ν•  μ μλ” ν”„λ΅μ„Έμ¤/μ¤λ λ“ μµλ€ κ°μ |

---

## **3. μ„¤μ • μ μ© λ° ν™•μΈ**

### **3.1 μ»¤λ„ νλΌλ―Έν„° μ μ©**
```bash
# λ³€κ²½ μ‚¬ν•­ μ¦‰μ‹ λ°μ
sysctl -p
```

### **3.2 λ¦¬μ†μ¤ μ ν• ν™•μΈ**
`limits.conf`λ” μƒλ΅μ΄ μ„Έμ…λ¶€ν„° μ μ©λλ―€λ΅ **μ¬λ΅κ·ΈμΈ** ν›„ ν™•μΈν•©λ‹λ‹¤.
```bash
# ν„μ¬ μ„Έμ…μ λ¦¬μ†μ¤ μ ν•κ°’ ν™•μΈ
ulimit -a | grep -E "open files|max user processes"
```

!!! info "μ£Όμμ‚¬ν•­"
    `limits.conf` μ„¤μ • ν›„μ—λ” λ°λ“μ‹ λ΅κ·Έμ•„μ›ƒ ν›„ λ‹¤μ‹ λ΅κ·ΈμΈν•΄μ•Ό μ‹¤μ  κ°’μ΄ λ°μλ©λ‹λ‹¤.

---

<div class="next-step-card-container" markdown>
<a href="../μΈν”„λΌ_ν¬νΈ_μ •λ³΄/" class="next-step-card">
    <span class="next-content">
        <span class="next-step-label">Next Step</span>
        <span class="next-step-title">π›΅οΈ ν¬νΈ μ •λ³΄</span>
    </span>
    <span class="next-step-icon">β†’</span>
</a>
</div>
